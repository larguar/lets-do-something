<!doctype html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Let's Do Something</title>

<link rel="stylesheet" href="https://use.typekit.net/mop5owf.css">
<link rel="stylesheet" href="css/style.css">

</head>

<body>
	
<main class="flex wrap">
	<div class="item photos">
		<div class="background slideshow" data-aos="fade-left" data-aos-delay="600">
			<div class="slideshow-image image1"></div>
			<div class="slideshow-image image2"></div>
			<div class="slideshow-image image3"></div>
			<div class="slideshow-image image4"></div>
		</div>
	</div>
	<div class="item main">
		<div class="navigation">
			<div class="left"><a href="all.html">Index</a></div>
			<div class="right"><a href="index.html">Random â†’</a></div>
		</div>
		<div class="container center">
			<h1 class="name" data-aos="fade-left" data-aos-delay="600"></h1>
			<p class="description" data-aos="fade-left" data-aos-delay="650"></p>
		</div>
	</div>
	<div class="item title">
		<div class="container center">
			<h4 data-aos="fade-down" data-aos-delay="600" data-aos-anchor-placement="center-bottom">Let's Do Something</h4>
			<h2 class="location" data-aos="fade-down" data-aos-delay="650" data-aos-anchor-placement="center-bottom"></h2>
		</div>
	</div>
	<div class="item category">
		<div class="rotate">
			<h2 class="cat" data-aos="fade-left" data-aos-delay="650" data-aos-anchor-placement="center-bottom"></h2>
		</div>
	</div>
	<div class="item details">
		<div class="container center">
			<div class="flex thirds">
				<div class="item">
					<div class="content">
						<h3 data-aos="fade-down" data-aos-delay="700" data-aos-anchor-placement="center-bottom">Who</h3>
						<p class="who" data-aos="fade-down" data-aos-delay="600" data-aos-anchor-placement="center-bottom"></p>
					</div>
				</div>
				<div class="item">
					<div class="content">
						<h3 data-aos="fade-down" data-aos-delay="750" data-aos-anchor-placement="center-bottom">Where</h3>
						<p class="where" data-aos="fade-down" data-aos-delay="650" data-aos-anchor-placement="center-bottom"></p>
					</div>
				</div>
				<div class="item">
					<div class="content">
						<h3 data-aos="fade-down" data-aos-delay="800" data-aos-anchor-placement="center-bottom">Why</h3>
						<p class="why" data-aos="fade-down" data-aos-delay="700" data-aos-anchor-placement="center-bottom"></p>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
// get item index from page url
let a = window.location.href;
let i = a.split('#').pop();
// get json list
$.getJSON('list.json', function(data) {
	let list = data.list;
	// build "who" content
	let who = "";
	if (list[i].who != "") {
		who = who + list[i].who + " ";
	} else {
		who = who + "You can do this one ";
	}
	for (let p in list[i].people) {
		if (list[i].people[p] === "Solo") {
			who = who + "on your own ";
		} else if (list[i].people[p] === "Mom") {
			if (p > 0) {
				who = who + "or "
			}
			who = who + "with mom ";
		} else if (list[i].people[p] === "Family") {
			if (p > 0) {
				who = who + "or "
			}
			who = who + "make it a family " + list[i].type;
			if (list[i].otw != "Maryland") {
				who = who + " when we're in town"
			} else {
				who = who + " on your way to/from MD"
			}
		}
	}
	// build "where" content
	let where = "";
	if (list[i].where != "") {
		where = where + list[i].where;
	} else {
		if (list[i].travelHours === 1) {
			where = where + "<a href='" + list[i].map + "' target='_blank'>Less than an hour</a> from home";
		} else {
			where = where + "<a href='" + list[i].map + "' target='_blank'>" + list[i].travelHours + " hours</a> from home";
			if (list[i].otw === "Maryland") {
				where = where + ". On the way to Maryland so we can meet you there"
			} else if (list[i].otw === "Richmond") {
				where = where + ". Richmond's on the way, so you can visit and/or scoop up Donna"
			}
		}
	}
	// build "why" content
	let why = "";
	if (list[i].why != "") {
		why = why + list[i].why;
	} else if (list[i].category === "Vineyards") {
		why = why + "Because wine and gorgeous views. More like why the heck not?";
	}
	// update page content
	$(".name").text(list[i].name);
	$(".description").html(list[i].description);
	$(".location").text("in " + list[i].location);
	$(".cat").text(list[i].category);
	$(".who").html(who);
	$(".where").html(where);
	$(".why").html(why);
	$(".image1").css("background-image", "url('" + list[i].image1 + "')");
	$(".image2").css("background-image", "url('" + list[i].image2 + "')");
	$(".image3").css("background-image", "url('" + list[i].image3 + "')");
	$(".image4").css("background-image", "url('" + list[i].image4 + "')");
	// add optional learn more button
	if (list[i].url != "") {
		$(".main .container").append("<div class='url flex right' data-aos='fade-left' data-aos-delay='700'><p><a href='" + list[i].url + "' target='_blank'>Learn More</a></p></div>");
	}
});
</script>

</body>
</html>