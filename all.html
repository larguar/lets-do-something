<!doctype html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Let's Do Something</title>

<link rel="stylesheet" href="https://use.typekit.net/mop5owf.css">
<link rel="stylesheet" href="css/style.css">

</head>

<body>

<header><a href="random.html">Random</a></header>
<div class="all"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
// get json list
$.getJSON('list.json', function(data) {
	let list = data.list;
	// build categories array
	let categories = [];
	for (let i in list) {
		categories.push(list[i].category);
	}		
	// remove duplicate categories
	function removeDuplicates(c) {
	    return c.filter((item, index) => c.indexOf(item) === index);
	}
	let uniqueCategories = removeDuplicates(categories);	
	// append page content
	for (let c in uniqueCategories) {
		$(".all").append("<h2>" + uniqueCategories[c] + "</h2>");		
		for (let i in list) {
			if (list[i].category === uniqueCategories[c]) {
				console.log(i);
				$(".all").append("<p><a href='details.html#" + i + "'>" + list[i].name + "</a></p>");
			}
		}
		
	}	
});
</script>

</body>
</html>